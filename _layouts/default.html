<!DOCTYPE html>
<html lang="en">

{% include head.html %}

<!-- hack iOS CSS :active style -->



<script src="https://cdn.jsdelivr.net/npm/@microlink/mql/dist/mql.umd.min.js"></script>
<script>
  // Auto-enhance links with data-preview="card"
  document.addEventListener('DOMContentLoaded', async () => {
    const links = [...document.querySelectorAll('a[data-preview="card"]')];
    for (const a of links) {
      try {
        const { data } = await mql(a.href, { meta: true });
        if (!data) continue;
        const card = document.createElement('div');
        card.className = 'link-card';
        card.innerHTML = `
          <a class="link-card__wrap" href="${a.href}">
            <div class="link-card__media" style="background-image:url('${(data.image && data.image.url) || ''}')"></div>
            <div class="link-card__body">
              <div class="link-card__title">${data.title || a.href}</div>
              <div class="link-card__desc">${data.description || ''}</div>
              <div class="link-card__host">${new URL(a.href).host}</div>
            </div>
          </a>`;
        a.replaceWith(card);
      } catch (e) { /* silently fail */ }
    }
  });
</script>
<style>
  .link-card{display:block;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden}
  .link-card__wrap{display:grid;grid-template-columns:160px 1fr;text-decoration:none;color:inherit}
  .link-card__media{background-size:cover;background-position:center;min-height:120px}
  .link-card__body{padding:12px}
  .link-card__title{font-weight:600;margin-bottom:6px}
  .link-card__desc{font-size:0.95rem;line-height:1.3;color:#555;margin-bottom:6px}
  .link-card__host{font-size:0.85rem;color:#888}
  @media (max-width:600px){.link-card__wrap{grid-template-columns:1fr}.link-card__media{height:180px}}
</style>


<body ontouchstart="">

    {% include nav.html %}
    {% include search.html %}

    {{ content }}

    {% include footer.html %}


<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
